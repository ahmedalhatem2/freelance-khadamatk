# اختبار هندسة البرمجيات - مشروع Frontend React/TypeScript

## معلومات الاختبار
- **المدة**: 4 ساعات
- **النوع**: اختبار عملي شامل
- **المستوى**: متقدم
- **التقنيات**: React 18, TypeScript, Tailwind CSS, React Query, React Router

---

## الجزء الأول: تحليل البنية المعمارية (30 دقيقة)

### السؤال 1.1: تحليل الهندسة المعمارية
قم بتحليل البنية المعمارية للمشروع المقدم وأجب على الأسئلة التالية:

```typescript
// ملف App.tsx المقدم
import React from 'react';
import { QueryClient, QueryClientProvider } from "@tanstack/react-query";
import { BrowserRouter, Routes, Route } from "react-router-dom";
// ... باقي الكود
```

**الأسئلة:**
1. ما هي الطبقات المعمارية المستخدمة في هذا المشروع؟
2. كيف يتم تنظيم إدارة الحالة (State Management)؟
3. ما هي مزايا استخدام React Query في هذا السياق؟
4. كيف يتم التعامل مع المصادقة والتفويض؟

### السؤال 1.2: تحليل الأنماط والأنواع
```typescript
export interface User {
  id: number;
  first_name: string;
  last_name: string;
  phone: string;
  status: string;
  role_id: number;
  region_id: number;
  // ... باقي الحقول
}
```

**الأسئلة:**
1. ما هي مزايا استخدام TypeScript في هذا المشروع؟
2. كيف يمكن تحسين تعريف الأنواع ليكون أكثر أماناً؟
3. اقترح تحسينات على هيكل البيانات المقدم

---

## الجزء الثاني: تطوير المكونات (90 دقيقة)

### السؤال 2.1: إنشاء مكون ServiceCard
قم بإنشاء مكون `ServiceCard` متقدم يتضمن:

```typescript
interface ServiceCardProps {
  service: Service;
  onBook?: (serviceId: number) => void;
  onFavorite?: (serviceId: number) => void;
  isFavorite?: boolean;
  variant?: 'default' | 'compact' | 'detailed';
}
```

**المتطلبات:**
- استخدام Tailwind CSS للتصميم
- دعم الوضع المظلم/الفاتح
- إضافة رسوم متحركة باستخدام Framer Motion
- معالجة حالات التحميل والأخطاء
- اختبارات وحدة شاملة

### السؤال 2.2: إنشاء Hook مخصص
قم بإنشاء hook مخصص لإدارة الخدمات:

```typescript
// hooks/useServices.ts
export const useServices = (filters?: ServiceFilters) => {
  // تنفيذ المنطق المطلوب
}
```

**المتطلبات:**
- استخدام React Query للتحكم في البيانات
- دعم التصفية والترتيب
- معالجة الأخطاء والتحميل
- دعم التحديث التلقائي

---

## الجزء الثالث: إدارة الحالة والمصادقة (60 دقيقة)

### السؤال 3.1: تحسين AuthProvider
قم بتحسين `AuthProvider` المقدم:

```typescript
// تحسينات مطلوبة:
// 1. إضافة refresh token
// 2. معالجة انتهاء صلاحية التوكن
// 3. إضافة middleware للمصادقة
// 4. تحسين الأمان
```

### السؤال 3.2: إنشاء Context للعربة
قم بإنشاء context لإدارة عربة التسوق:

```typescript
interface CartContextType {
  items: CartItem[];
  addItem: (item: CartItem) => void;
  removeItem: (itemId: number) => void;
  updateQuantity: (itemId: number, quantity: number) => void;
  clearCart: () => void;
  total: number;
}
```

---

## الجزء الرابع: اختبارات وضمان الجودة (60 دقيقة)

### السؤال 4.1: كتابة اختبارات وحدة
اكتب اختبارات شاملة للمكونات التالية:

```typescript
// tests/ServiceCard.test.tsx
describe('ServiceCard', () => {
  it('should render service information correctly', () => {
    // تنفيذ الاختبار
  });
  
  it('should handle booking action', () => {
    // تنفيذ الاختبار
  });
  
  it('should handle favorite toggle', () => {
    // تنفيذ الاختبار
  });
});
```

### السؤال 4.2: اختبارات التكامل
اكتب اختبارات تكامل للـ API:

```typescript
// tests/api/services.test.ts
describe('Services API', () => {
  it('should fetch services successfully', async () => {
    // تنفيذ الاختبار
  });
  
  it('should handle API errors gracefully', async () => {
    // تنفيذ الاختبار
  });
});
```

---

## الجزء الخامس: تحسينات الأداء والأمان (60 دقيقة)

### السؤال 5.1: تحسينات الأداء
اقترح وتنفيذ تحسينات الأداء:

1. **Code Splitting**: تنفيذ تقسيم الكود حسب المسارات
2. **Lazy Loading**: تحميل المكونات عند الحاجة
3. **Memoization**: استخدام React.memo وuseMemo
4. **Bundle Optimization**: تحسين حجم الحزمة

### السؤال 5.2: تحسينات الأمان
اقترح وتنفيذ تحسينات الأمان:

1. **Input Validation**: التحقق من المدخلات
2. **XSS Protection**: حماية من هجمات XSS
3. **CSRF Protection**: حماية من هجمات CSRF
4. **Secure Headers**: إعداد رؤوس HTTP آمنة

---

## معايير التقييم

### الجودة التقنية (40%)
- صحة الكود واتباع أفضل الممارسات
- استخدام TypeScript بشكل فعال
- تنظيم الكود والهندسة المعمارية
- معالجة الأخطاء والحالات الاستثنائية

### الأداء والكفاءة (25%)
- تحسين الأداء
- إدارة الذاكرة
- سرعة التحميل
- تجربة المستخدم

### الأمان (20%)
- حماية البيانات
- التحقق من المدخلات
- إدارة الجلسات
- حماية من الهجمات الشائعة

### الاختبارات والوثائق (15%)
- تغطية الاختبارات
- جودة الوثائق
- قابلية الصيانة
- قابلية التوسع

---

## النتائج المتوقعة

### المستوى الممتاز (90-100%)
- تنفيذ كامل لجميع المتطلبات
- كود نظيف ومنظم
- اختبارات شاملة
- تحسينات أداء متقدمة
- وثائق مفصلة

### المستوى الجيد (75-89%)
- تنفيذ معظم المتطلبات
- كود جيد التنظيم
- اختبارات أساسية
- تحسينات أداء معقولة

### المستوى المقبول (60-74%)
- تنفيذ المتطلبات الأساسية
- كود قابل للعمل
- اختبارات محدودة
- تحسينات أداء بسيطة

### المستوى الضعيف (أقل من 60%)
- تنفيذ جزئي للمتطلبات
- كود غير منظم
- عدم وجود اختبارات
- مشاكل في الأداء

---

## ملاحظات إضافية

1. **الوقت**: احرص على إدارة الوقت بشكل فعال
2. **الوضوح**: اكتب كود واضح ومفهوم
3. **التعليقات**: أضف تعليقات توضيحية عند الحاجة
4. **الاختبار**: اختبر الكود قبل التسليم
5. **المراجعة**: راجع الكود قبل التسليم النهائي

---

## الملفات المطلوب تسليمها

1. الكود المطور
2. ملفات الاختبارات
3. الوثائق التقنية
4. تقرير التحليل المعماري
5. خطة التحسينات المقترحة

**نهاية الاختبار** 